<?xml version="1.0" encoding="UTF-8"?>
<metadata>
    <!-- Implementation of an interface method, or override of a method: a parameter or return type must be of the original type instead of a derived class (permitted in java) -->
    <attr name="type"
          path="/api/package[@name='com.google.android.exoplayer2.upstream.cache']/class[@name='CacheSpan']/method[@name='compareTo']/parameter">java.lang.Object</attr>
    <attr name="type"
          path="/api/package[@name='com.google.android.exoplayer2.drm']/class[@name='DrmInitData']/method[@name='compare']/parameter">java.lang.Object</attr>
    <attr name="type"
          path="/api/package[@name='com.google.android.exoplayer2.text']/class[@name='SubtitleInputBuffer']/method[@name='compareTo']/parameter">java.lang.Object</attr>
    <attr name="type"
          path="/api/package[@name='com.google.android.exoplayer2.source']/class[@name='ClippingMediaPeriod']/method[@name='onContinueLoadingRequested' and count(parameter)=1 and parameter[1][@type='com.google.android.exoplayer2.source.MediaPeriod']]/parameter">java.lang.Object</attr>
    <attr name="type"
          path="/api/package[@name='com.google.android.exoplayer2.upstream.cache']/class[@name='LeastRecentlyUsedCacheEvictor']/method[@name='compare' and count(parameter)=2 and parameter[1][@type='com.google.android.exoplayer2.upstream.cache.CacheSpan']]/parameter">java.lang.Object</attr>
    <attr name="type"
          path="/api/package[@name='com.google.android.exoplayer2.text.cea']/class[@name='CeaDecoder']/method[@name='queueInputBuffer' and count(parameter)=1 and parameter[1][@type='com.google.android.exoplayer2.text.SubtitleInputBuffer']]/parameter">java.lang.Object</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.cea']/class[@name='CeaDecoder']/method[@name='dequeueInputBuffer' and count(parameter)=0]">java.lang.Object</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.cea']/class[@name='CeaDecoder']/method[@name='dequeueOutputBuffer' and count(parameter)=0]">java.lang.Object</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.trackselection']/class[@name='FixedTrackSelection.Factory']/method[@name='createTrackSelection' and count(parameter)=2 and parameter[1][@type='com.google.android.exoplayer2.source.TrackGroup'] and parameter[2][@type='int...']]"
          name="return">com.google.android.exoplayer2.trackselection.TrackSelection</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.trackselection']/class[@name='RandomTrackSelection.Factory']/method[@name='createTrackSelection' and count(parameter)=2 and parameter[1][@type='com.google.android.exoplayer2.source.TrackGroup'] and parameter[2][@type='int...']]"
          name="return">com.google.android.exoplayer2.trackselection.TrackSelection</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='DefaultDataSourceFactory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='HttpDataSource.BaseFactory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.upstream']/interface[@name='HttpDataSource.Factory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <!-- Public classes inheriting private classes or returning private classes in method parameters (permitted in java) -->
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.cea']/class[@name='CeaDecoder']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.ttml']/class[@name='TtmlSubtitle']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.webvtt']/class[@name='Mp4WebvttSubtitle']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.webvtt']/class[@name='WebvttSubtitle']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.subrip']/class[@name='SubripSubtitle']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.webvtt']/class[@name='WebvttCue']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.offline']/class[@name='SegmentDownloader']/method[@name='getManifest']"
          name="visibility">public</attr>
    <!-- Rename (naming conflict not resolved correctly, interface method renamed instead of new method) -->
    <attr path="/api/package[@name='com.google.android.exoplayer2.source.chunk']/class[@name='ChunkExtractorWrapper']/method[@name='getSeekMap' and count(parameter)=0]"
          name="managedName">
        SeekMapInstance
    </attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.source.chunk']/class[@name='ChunkExtractorWrapper']/method[@name='seekMap' and count(parameter)=1 and parameter[1][@type='com.google.android.exoplayer2.extractor.SeekMap']]"
          name="managedName">
        SeekMap
    </attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='SimpleExoPlayer.VideoListener']/method[@name='onRenderedFirstFrame']"
          name="managedName">InvokeOnRenderedFirstFrame</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='SimpleExoPlayer.VideoListener']/method[@name='onVideoSizeChanged']"
          name="managedName">InvokeOnVideoSizeChanged</attr>
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/class[@name='SimpleExoPlayer']/method[@name='setVideoListener' and count(parameter)=1 and parameter[1][@type='com.google.android.exoplayer2.SimpleExoPlayer.VideoListener']]" />
    <!-- Remove method (abstract or interface) already implemented because it uses derived parameters -->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.text']/class[@name='SubtitleOutputBuffer']/method[@name='release' and count(parameter)=0]" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.decoder']/class[@name='SimpleDecoder']/method[@name='createOutputBuffer' and count(parameter)=0]" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.decoder']/class[@name='SimpleDecoder']/method[@name='createInputBuffer' and count(parameter)=0]" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.decoder']/class[@name='SimpleDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='I'] and parameter[2][@type='O'] and parameter[3][@type='boolean']]" />
    <!--	<remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']" />-->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='REPEAT_MODE_ALL']" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='REPEAT_MODE_OFF']" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='REPEAT_MODE_ONE']" />
    <!--	<remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='STATE_BUFFERING']" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='STATE_ENDED']" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='STATE_IDLE']" />
	<remove-node path="/api/package[@name='com.google.android.exoplayer2']/interface[@name='ExoPlayer']/field[@name='STATE_READY']" />-->
    <attr path="/api/package[@name='com.google.android.exoplayer2.source.chunk']/class[@name='BaseMediaChunkOutput']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.dvb']/class[@name='DvbSubtitle']"
          name="visibility">public</attr>
    <attr path="/api/package[@name='com.google.android.exoplayer2.text.ssa']/class[@name='SsaSubtitle']"
          name="visibility">public</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.dvb']/class[@name='DvbDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='byte[]'] and parameter[2][@type='int'] and parameter[3][@type='boolean']]">Com.Google.Android.Exoplayer2.Text.ISubtitle</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.subrip']/class[@name='SubripDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='byte[]'] and parameter[2][@type='int'] and parameter[3][@type='boolean']]">Com.Google.Android.Exoplayer2.Text.ISubtitle</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.ttml']/class[@name='TtmlDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='byte[]'] and parameter[2][@type='int'] and parameter[3][@type='boolean']]">Com.Google.Android.Exoplayer2.Text.ISubtitle</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.ssa']/class[@name='SsaDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='byte[]'] and parameter[2][@type='int'] and parameter[3][@type='boolean']]">Com.Google.Android.Exoplayer2.Text.ISubtitle</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.webvtt']/class[@name='Mp4WebvttDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='byte[]'] and parameter[2][@type='int'] and parameter[3][@type='boolean']]">Com.Google.Android.Exoplayer2.Text.ISubtitle</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.text.webvtt']/class[@name='WebvttDecoder']/method[@name='decode' and count(parameter)=3 and parameter[1][@type='byte[]'] and parameter[2][@type='int'] and parameter[3][@type='boolean']]">Com.Google.Android.Exoplayer2.Text.ISubtitle</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.trackselection']/class[@name='AdaptiveTrackSelection.Factory']/method[@name='createTrackSelection' and count(parameter)=2 and parameter[1][@type='com.google.android.exoplayer2.source.TrackGroup'] and parameter[2][@type='int...']]">com.google.android.exoplayer2.trackselection.TrackSelection</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.upstream.cache']/class[@name='CacheDataSourceFactory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='PriorityDataSourceFactory']/method[@name='createDataSource' and count(parameter)=0]">Com.Google.Android.Exoplayer2.Upstream.IDataSource</attr>
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.upstream']/class[@name='DefaultHttpDataSourceFactory']/method[@name='createDataSourceInternal' and count(parameter)=1 and parameter[1][@type='com.google.android.exoplayer2.upstream.HttpDataSource.RequestProperties']]">Com.Google.Android.Exoplayer2.Upstream.IHttpDataSource</attr>
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.source.chunk']/interface[@name='ChunkSource']/method[@name='getPreferredQueueSize' and count(parameter)=2 and parameter[1][@type='long'] and parameter[2][@type='java.util.List&lt;? extends com.google.android.exoplayer2.source.chunk.MediaChunk&gt;']]" />
    <!-- Remove deprecated duplicates -->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/class[@name='SimpleExoPlayer']/method[@name='setVideoListener' and count(parameter)=1]" />
    <!-- Rename duplicate event handler args -->
    <attr path="/api/package[@name='com.google.android.exoplayer2.audio']/interface[@name='AudioSink.Listener']/method[@name='onAudioSessionId']"
          name="argsType">AudioSinkSessionIdEventArgs</attr>
    <!-- We have a namespace conflict between Com.Google.Android and global::Android, remove the binding for the time being -->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.source.ads']/class[@name='AdPlaybackState']/field[@name='adUris']" />
    <!-- Those methods mark the whole file invalid. Remove them for now -->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.source']/interface[@name='MediaSource']/method[@name='prepareSource']" />
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.source']/interface[@name='MediaSource']/method[@name='createPeriod']" />
    <!--  These are removed for now  -->
    <remove-node path="/api/package[@name='com.google.android.exoplayer2.source']/class[@name='DeferredMediaPeriod']" />
    <attr name="return"
          path="/api/package[@name='com.google.android.exoplayer2.source']/class[@name='ExtractorMediaSource.Factory']/method[@name='createMediaSource' and count(parameter)=3 and parameter[1][@type='android.net.Uri'] and parameter[2][@type='android.os.Handler'] and parameter[3][@type='com.google.android.exoplayer2.source.MediaSourceEventListener']]">
       Com.Google.Android.Exoplayer2.Source.IMediaSource
    </attr>
    <remove-node path="/api/package[@name='com.google.android.exoplayer2']/class[@name='SimpleExoPlayer']" />
</metadata>